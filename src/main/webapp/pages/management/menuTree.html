<!doctype html>
<html class="no-js" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>后台管理</title>

    <!-- build:css styles/vendor.css -->
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css" nerinend/>
    <!--<link rel="stylesheet" href="/bower_components/datatables/media/css/jquery.dataTables.css" nerinend/>-->
    <link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.css" nerinend/>
    <link rel="stylesheet" href="/bower_components/bootstrap-social/bootstrap-social.css" nerinend/>
    <link rel="stylesheet" href="/bower_components/metisMenu/dist/metisMenu.css" nerinend/>
    <link href="/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">
    <link href="/bower_components/jquery.fancytree/dist/skin-bootstrap/ui.fancytree.css" rel="stylesheet" type="text/css" class="skinswitcher">

    <!-- endbuild -->
    <!-- Notify CSS -->
    <link rel="stylesheet" href="/bower_components/bootstrap-notify-master/css/bootstrap-notify.css" nerinend/>
    <!-- build:css styles/back-main.css -->
    <link rel="stylesheet" href="/styles/common/back-main.css" nerinend/>
    <link rel="stylesheet" href="/styles/management/menu.css" nerinend/>
    <link rel="stylesheet" href="/styles/common/sb-admin-2.css" nerinend/>
    <!-- endbuild -->

    <!-- build:js scripts/vendor/modernizr.js -->
    <script src="/bower_components/modernizr/modernizr.js" nerinend></script>
    <!-- endbuild -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/scripts/common/html5shiv.js"></script>
    <script src="/scripts/common/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
        /* Define custom width and alignment of table columns */
        #treetable {
            table-layout: fixed;
        }
        #treetable tr td:nth-of-type(1) {
            text-align: right;
        }
        #treetable tr td:nth-of-type(2) {
            text-align: center;
        }
        #treetable tr td:nth-of-type(3) {
            min-width: 100px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body style="min-height: 800px">
<div id="tree" class="panel-body fancytree-colorize-hover fancytree-fade-expander">
</div>


<table id="treetable" class="table table-condensed table-hover table-striped fancytree-fade-expander table-bordered">
    <colgroup>
        <col width="80px"></col>
        <col width="30px"></col>
        <col width="*"></col>
        <col width="100px"></col>
        <col width="100px"></col>
        <col width="100px"></col>
    </colgroup>
    <thead>
    <tr> <th></th> <th></th> <th>Classification</th> <th>Folder</th> <th>data</th> <th></th> </tr>
    </thead>
    <tbody>
    <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>
    </tbody>
</table>


<div class="row">
    <div class="col-xs-2">
        <select class="form-control" placeholder="请选择" width="10">
            <option value="1">1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
        </select>
    </div>
</div>


<div id="echoSelectiondiv"></div>

    <!-- build:js scripts/vendor.js -->
    <script src="/bower_components/jquery/dist/jquery.js" nerinend></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.js" nerinend></script>
    <script src="/bower_components/jquery-ui/jquery-ui.js" nerinend></script>
    <script src="/bower_components/metisMenu/dist/metisMenu.js" nerinend></script>

    <script src="/bower_components/datatables/media/js/jquery.dataTables.js" nerinend></script>
    <script src="/bower_components/datatables-responsive/js/dataTables.responsive.js" nerinend></script>
    <script src="/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>
    <script src="/bower_components/jquery.serializeJSON/jquery.serializejson.js"></script>

    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.js" type="text/javascript"></script>
    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.dnd.js" type="text/javascript"></script>
    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.edit.js" type="text/javascript"></script>
    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.glyph.js" type="text/javascript"></script>
    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.table.js" type="text/javascript"></script>
    <script src="/bower_components/jquery.fancytree/dist/src/jquery.fancytree.wide.js" type="text/javascript"></script>
    <!-- endbuild -->

    <!-- build:js scripts/back-main.js -->

    <script src="/scripts/common/config.js"></script>
    <script src="/bower_components/bootstrap-notify-master/js/bootstrap-notify.js" nerinend></script>
    <!-- endbuild -->
    <!-- Page-Level Demo Scripts - Tables - Use for reference -->

<script type="text/javascript">
    glyph_opts = {
        map: {
            doc: "glyphicon glyphicon-file",
            docOpen: "glyphicon glyphicon-file",
            checkbox: "glyphicon glyphicon-unchecked",
            checkboxSelected: "glyphicon glyphicon-check",
            checkboxUnknown: "glyphicon glyphicon-share",
            dragHelper: "glyphicon glyphicon-play",
            dropMarker: "glyphicon glyphicon-arrow-right",
            error: "glyphicon glyphicon-warning-sign",
            expanderClosed: "glyphicon glyphicon-menu-right",
            expanderLazy: "glyphicon glyphicon-menu-right",  // glyphicon-plus-sign
            expanderOpen: "glyphicon glyphicon-menu-down",  // glyphicon-collapse-down
            folder: "glyphicon glyphicon-folder-close",
            folderOpen: "glyphicon glyphicon-folder-open",
            loading: "glyphicon glyphicon-refresh glyphicon-spin"
        }
    };
    $(function(){
        var config = new nerinJsConfig();

        $("#tree").fancytree({
            extensions: ["dnd", "edit", "glyph", "wide"],
            checkbox: true,
            dnd: {
                focusOnClick: true,
                dragStart: function(node, data) { return true; },
                dragEnter: function(node, data) { return false; },
                dragDrop: function(node, data) { data.otherNode.copyTo(node, data.hitMode); }
            },
            glyph: glyph_opts,
            selectMode: 2,
            source: [{"title": "Node 1", "key": "1"},
                {"title": "Folder 2", "key": "2", "folder": true, "children": [
                    {"title": "Node 2.1", "key": "3"},
                    {"title": "Node 2.2", "key": "4"}
                ]}
            ],
            toggleEffect: { effect: "drop", options: {direction: "left"}, duration: 400 },
            wide: {
                iconWidth: "1em",     // Adjust this if @fancy-icon-width != "16px"
                iconSpacing: "0.5em", // Adjust this if @fancy-icon-spacing != "3px"
                levelOfs: "1.5em"     // Adjust this if ul padding != "16px"
            },

            icon: function(event, data){

            },
            lazyLoad: function(event, data) {
                data.result = {url: "ajax-sub2.json", debugDelay: 1000};
            }
        });

        $("#treetable").fancytree({
            selectMode: 3,
            extensions: ["dnd", "edit", "glyph", "table"],
            checkbox: true,
            dnd: {
                focusOnClick: true,
                dragStart: function(node, data) { return true; },
                dragEnter: function(node, data) { return true; },
                dragDrop: function(node, data) { data.otherNode.copyTo(node, data.hitMode); }
            },
            glyph: glyph_opts,
            source:  [
                {title: "Node 1", key: "1", folder: true, lazy: true},
                {title: "Folder 2", key: "2", folder: false, lazy: true}
            ],
            table: {
                checkboxColumnIdx: 1,
                nodeColumnIdx: 2
            },
            select: function(event, data) {
                var selNodes = data.tree.getSelectedNodes();
                var selKeys = $.map(selNodes, function(node){
                    return "[" + node.key + "]: '" + node.title + "'";
                });
                $("#echoSelectiondiv").text(selKeys.join(", "));
            },
            activate: function(event, data) {

            },
            lazyLoad: function(event, data) {
                var node = data.node;
                data.result = {
                    url: config.baseurl +"/api/management/queryFancyTree",
                    data: {key: node.key}
                }
            },
            renderColumns: function(event, data) {
                var node = data.node,
                        $tdList = $(node.tr).find(">td");
                $tdList.eq(0).text(node.getIndexHier());
                $tdList.eq(3).text(!!node.folder);
                $tdList.eq(4).html("<input type='checkbox' value='" + "" + "'>");
            }
        });
    });
</script>

</body>
</html>
